2008-04-29  Evan Monroig  <evan.monroig@gmail.com>

	* experimental/multiplication.lisp: moved here from
	multiplication.lisp

2008-04-28  Evan Monroig  <evan.monroig@gmail.com>

	* fnv-matrix.lisp (setf mref): add method for basic matrix types
	(orientation): fixed for transposed matrix

	* tests.lisp (make-matrix-double-4): add test for initialization
	from list

	* fnv-matrix.lisp (make-matrix): add initialization from a list of
	lists

2008-04-27  Evan Monroig  <evan.monroig@gmail.com>

	* tests.lisp (test-matrix-size): add test for spurious argument to
	MATRIX-DIMENSION
	(make-matrix-double-3, transpose-double, random-array): factor out
	common code into RANDOM-ARRAY
	(window-double): add test for windowed matrices

	* fnv-matrix.lisp (matrix-type-to-fnv-type): add documentation

	* fnv-vector.lisp (vector-dimension, vref)
	(fnv-type-to-vector-type, slice, vector-type-to-fnv-type): put
	docstring in DEFGENERIC form

	* fnv-matrix.lisp (matrix-dimension, matrix-dimensions)
	(flatten-matrix-indices, mref, orientation)
	(fnv-type-to-matrix-type): move docstring to a DEFGENERIC form
	(window, transpose, strides): move docstring to a DEFGENERIC form
	(nelts, matrix-type-to-fnv-type, unit-stride-p, fnv-type): move
	docstring to a DEFGENERIC form
	(make-typed-matrix): fixed calls to MAKE-SYMBOL*
	(orientation): add documentation

	* lisp-matrix.asd (lisp-matrix, operation-done-p): automatically
	run tests when calling (ASDF:OOS 'ASDF:TEST-OP 'LISP-MATRIX)

	* tests.lisp (tests): add root test suite

	* fnv-vector.lisp (make-typed-vector): replace NCAT by
	MAKE-SYMBOL*

	* fnv-matrix.lisp (make-typed-matrix): replace NCAT by
	MAKE-SYMBOL*

	* package.lisp (:lisp-matrix): don't import NCAT

	* utils.lisp (make-symbol*): add simple utility to replace NCAT

2008-04-24  Evan Monroig  <evan.monroig@gmail.com>

	* tests.lisp (test-matrix-size): helper function
	(make-matrix-double-1, make-matrix-double-2)
	(make-matrix-double-3, transpose-double): added basic tests

	* lisp-matrix.asd (lisp-matrix): add dependency on fiveam

	* package.lisp (:lisp-matrix): remove dependency on ASDF
	(:lisp-matrix): add dependency on FIVEAM

	* fnv-vector.lisp (make-vector): don't use argument
	INITIAL-ELEMENT-P

	* fnv-matrix.lisp (make-matrix): don't use argument
	INITIAL-ELEMENT-P

	* fnv-vector.lisp (initialize-instance): remove call to next
	method

	* fnv-matrix.lisp (initialize-instance): remove call to next
	method

	* macros.lisp (define-abstract-class): use EQL with TYPE-OF
	instead of TYPEP which is too inclusive

	* fnv-matrix.lisp (matrix-like, matview): modify readers, order of
	slots and options as for vector types
	(matrix-like): nrows and ncols should be accessors as we modify
	them in other parts of the code
	(make-typed-matrix): similar changes to the vector types
	(strides, window): key arguments should be symbols not keywords
	(make-typed-matrix -> initialize-instance :after): remove the
	call to the next method

	* fnv-vector.lisp (vector-like, vecview): replace these classes
	and others so that slots and options are in correct order	
	(double, float, complex-double, complex-float): when calling
	MAKE-TYPED-VECTOR, the type should not be quoted
	(make-typed-vector): re-establish the quoting of the fnv-type
	argument when it is necessary
	(vector-like, vecview): fixed reader functions which should be
	symbols not keywords
	(slice): parent is X

	* macros.lisp (define-abstract-class): modify INITIALIZE-INSTANCE
	method to quote the class name

	* package.lisp (:lisp-matrix): import function NCAT which was an
	internal symbol from the package FNV -- actually I would like to
	remove dependence on this function since it pollutes the
	LISP-MATRIX package with unused symbols

	* fnv-vector.lisp (make-vector): see MAKE-MATRIX below
	
	* fnv-matrix.lisp (make-matrix): replaced by a generic function as
	there is no simple way to define local setf methods -- labels
	won't work, macrolet doesn't capture local variable when the
	expansion is generated, symbol-macrolet doesn't work eigher
	although I'm not sure to understand why

